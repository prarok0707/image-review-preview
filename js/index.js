((i,t)=>{"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.WEBPACK_GLOBAL=t():i.WEBPACK_GLOBAL=t()})(this,()=>{{let r="data-image-review-init",n={isActive:"is-active",isDragging:"is-dragging",isLoading:"is-loading",isLoaded:"is-loaded",isWaiting:"is-waiting",isError:"is-error"},e={durationWaiting:5e3};class s{_root=null;_images=[];_options=null;_indexActive=0;_speed=null;_pageX=null;_loadingImages=null;_timerForWaiting=null;constructor(i,t){this._root=(i=i)&&(i="string"==typeof i?document.body.querySelector(i):i)instanceof Element?i:null,this._options={...e,...t},this._init()}update=()=>{var i,t,e,s,o;this._root&&this._root.hasAttribute(r)&&(this._root.removeAttribute(r),{isActive:i,isLoaded:t,isError:e,isDragging:s,isWaiting:o}=n,this._root.classList.remove(s,t,e,o),this._root.removeEventListener("pointerdown",this._onPointerDown),this._images[this._indexActive]?.classList.remove(i),this._onPointerUp(),clearTimeout(this._timerForWaiting),this._init())};_onPointerDown=i=>{i.preventDefault(),i.stopPropagation();var t=this._images.length;this._pageX=i.pageX,this._speed=(40<=t?2:30<=t&&5)||(20<=t?10:10<=t&&20)||20,document.body.style.cursor="ew-resize",this._root.classList.add(n.isDragging),this._root.classList.remove(n.isWaiting),clearTimeout(this._timerForWaiting),window.addEventListener("pointermove",this._onPointerMoveThrottle),window.addEventListener("pointerup",this._onPointerUp)};_onPointerMove=e=>{e=e.pageX;if(!(this._pageX>e-this._speed&&this._pageX<e+this._speed)){var s=this._images.length-1;let i=this._indexActive-1,t=this._indexActive+1;i<0&&(i=s),t>s&&(t=0);var s=this._images[i],o=this._images[this._indexActive],r=this._images[t];this._pageX<e&&(s.classList.add(n.isActive),this._indexActive=i),this._pageX>e&&(r.classList.add(n.isActive),this._indexActive=t),o.classList.remove(n.isActive),this._pageX=e}};_onPointerMoveThrottle=(()=>((i,t)=>{let e=!1,s=null,o=null;return function(){e?(s=this,o=arguments):(e=!0,i.apply(this,arguments),setTimeout(()=>{e=!1,o&&(i.apply(s,o),s=o=null)},t))}})(this._onPointerMove,16))();_onPointerUp=()=>{document.body.style.removeProperty("cursor"),this._root.classList.remove(n.isDragging),this._timerForWaiting=setTimeout(()=>{this._root.classList.add(n.isWaiting)},this._options.durationWaiting),window.removeEventListener("pointermove",this._onPointerMoveThrottle),window.removeEventListener("pointerup",this._onPointerUp)};_events=()=>{var i=this._images.map(s=>new Promise((i,t)=>{var e=new Image;e.src=s.src,e.addEventListener("load",()=>i()),e.addEventListener("error",()=>t())}));this._loadingImages=Promise.all(i).then(()=>{this._root.classList.remove(n.isLoading),this._root.classList.add(n.isLoaded),this._root.classList.add(n.isWaiting),this._root.addEventListener("pointerdown",this._onPointerDown,!0)}).catch(()=>{this._root.classList.remove(n.isLoading),this._root.classList.add(n.isError)})};_init=()=>{if(this._root&&!this._root.hasAttribute(r)){var i=this._root.querySelectorAll("[data-image-review-target]");if(this._images=Array.from(i),this._images.length){this._root.classList.add(n.isLoading);let i=this._images[this._indexActive];i||(i=this._images[0],this._indexActive=0),i.classList.add(n.isActive),this._events(),this._root.setAttribute(r,"")}}}}return document.addEventListener("DOMContentLoaded",i=>{var t;(t=document.querySelectorAll("[data-image-review-default]")).length&&t.forEach(i=>new s(i)),document.querySelectorAll("[data-image-review-custom]").forEach(i=>{let t=i.querySelector(".image-review__images"),e=new s(i);setTimeout(()=>{t.insertAdjacentHTML("beforeend",'\n  <img\n    class="image-review__image"\n    src="./images/image-review/templates/img_29.png"\n    alt="image"\n    data-image-review-target\n    loading="lazy" />\n'),e.update()},5e3)})}),{}}});